const pConf=sos.config.page,appGoLive=(a,e=!0)=>{confirm("Do you want to set this app live?")&&($("#post-form input[name=name]").val(a),$("#post-form input[name=live]").val(1),$("#post-form").attr("action","/app/tymfrontiers-cdn/devman.soswapp/src/GoLive.php").submit())},doAppStatus=(a,e)=>{confirm(`Do you want to set app status to ${e}?`)&&($("#post-form input[name=name]").val(a),$("#post-form input[name=status]").val(e),$("#post-form").attr("action","/app/tymfrontiers-cdn/devman.soswapp/src/PatchApp.php").submit())};function listLog(a){let e="";$.each(a,function(a,s){e+="<tr>",e+=`<td> <i class="fas fa-info-circle"></i> <a href="#" onclick="sos.faderBox.url('/app/tymfrontiers-cdn/devman.soswapp/service/view-app.php',{name :'${s.app}'},{exitBtn : true});">${s.app_name} (${s.app})</a></td>`,e+=`<td><a href="#" onclick="sos.faderBox.url('/app/tymfrontiers-cdn/devman.soswapp/service/view-applog.php',{id :'${s.id}'},{exitBtn : true});"> <i class="fas fa-window-maximize"></i> ${s.path.replace("| "+s.app,"").replaceAll(s.app,"")}</a></td>`,e+=`<td title="${s.created_date}">${s.created}</td>`,e+="</tr>"}),$(`${pConf.datacontainer}`).html(e)}function listApp(a){let e="";$.each(a,function(a,s){e+="<tr>",e+=`<td> <span class="${"ACTIVE"===s.status?"color-green":"color-red"}">[${(!0===s.live?"LIVE | ":"")+s.status}]</span> <a href="#" onclick="sos.faderBox.url('/app/tymfrontiers-cdn/devman.soswapp/service/put-app.php', {name : '${s.name}',callback : 'requery'}, {exitBtn : true});" class='blue color-blue'><i class="fas fa-edit"></i> ${s.name}</a></td>`,e+=`<td><a href="#" class="color-blue blue" onclick="sos.faderBox.url('/app/tymfrontiers-cdn/devman.soswapp/service/view-app.php',{name :'${s.name}'},{exitBtn : true});"> <i class="fas fa-window-maximize"></i> ${s.title}</a></td>`,e+=`<td>${s.user_name} (${s.user})</td>`,e+=`<td>${s.requests}</td>`,e+="<td>";let t=[];s.live&&t.push(`<a class="blue" href="#" onclick="sos.faderBox.url('/app/tymfrontiers-cdn/devman.soswapp/service/generate-cred.php', {app : '${s.name}'}, {exitBtn : true});"><i class="fas fa-key"></i>&nbsp;Get&nbsp;credentials</a>`),s.live||in_array(s.status,["BANNED","PENDING","SUSPENDED"])||t.push(`<a class="green" href="#" onclick="appGoLive('${s.name}', true);"><i class="fas fa-bullseye"></i>&nbsp;Go live</a>`),in_array(s.status,["PENDING","SUSPENDED"])&&t.push(`<a class="blue color-blue" href="#" onclick="doAppStatus('${s.name}', 'ACTIVE');"> <i class="fas fa-check-circle"></i>&nbsp;Activate</a>`),in_array(s.status,["ACTIVE","PENDING"])&&(t.push(`<a class="asphalt color-asphalt" href="#" onclick="doAppStatus('${s.name}', 'SUSPENDED');"><i class="fas fa-hand-paper"></i>&nbsp;Suspend</a>`),t.push(`<a class="red color-red" href="#" onclick="doAppStatus('${s.name}', 'BANNED');"><i class="fas fa-ban"></i>&nbsp;Ban</a>`)),e+=t.join(" | "),e+="</td>",e+="</tr>"}),$(`${pConf.datacontainer}`).html(e)}